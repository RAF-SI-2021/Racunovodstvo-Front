<div class="container">
  <div class="row text-center">
    <h1 style="font-family: Sans-serif, serif; text-align: center" class="mb-4 pb-2 pb-md-0 mb-md-5">Zaposleni</h1>
    <div class="col-sm-2">
    </div>
    <div class="col-sm-8">
      <form class="form-control" [formGroup]="filterGroup" (submit)="filter()">
        <div class="row">
          <div class="col-sm-6">
            <label class="labelClass">Ime:</label>
            <input class="form-control" placeholder="Ime zaposlenog" type="text" [formControlName]="'ime'"
                   name="zaposleni_ime">
          </div>

          <div class="col-sm-6">
            <label class="labelClass">Radno mesto:</label>
            <select class="form-control" [formControlName]="'radnaPozicija'">
              <option value=""></option>
              <option value="direktor">DIREKTOR</option>
              <option value="menadzer">MENADZER</option>
              <option value="radnik">RADNIK</option>
            </select>
          </div>

        </div>
        <div class="row">
          <div class="col-sm-6">
            <label class="labelClass">Prezime:</label>
            <input class="form-control" placeholder="Prezime zaposlenog" type="text" [formControlName]="'prezime'"
                   name="zaposleni_prezime">
          </div>

          <div class="col-sm-6">
            <label class="labelClass">Status:</label>
            <select class="form-control" [formControlName]="'statusZaposlenog'">
              <option value=""></option>
              <option value="zaposlen">ZAPOSLEN</option>
              <option value="nezaposlen">NEZAPOSLEN</option>
            </select>
          </div>
        </div>
        <div class="row text-center  mt-2">
          <div class="col-sm-5"></div>
          <div class="col-sm-2">
            <button class="btn btn-sm btn-primary" type="submit">Filter</button>
          </div>
          <div class="col-sm-5"></div>
        </div>
      </form>
    </div>
    <div class="col-sm-2">

    </div>
  </div>

  <div class="mt-4">
    <table class="table table-striped table-responsive-sm">
      <thead>
      <tr>
        <th>Šifra zaposlenog</th>
        <th>Ime i prezime</th>
        <th>Staž</th>
        <th>Grad</th>
        <th>Adresa</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let zaposlen of zaposleni; index as i" (click)="profilZaposlenog(zaposlen.zaposleniId)">
        <td>{{ zaposlen.zaposleniId }}</td>
        <td>{{ zaposlen.ime }} {{zaposlen.prezime}}</td>
        <td>{{ izracunajStaz(zaposlen.pocetakRadnogOdnosa)}}</td>
        <td>{{ zaposlen.grad }}</td>
        <td>{{ zaposlen.adresa}}</td>
      </tr>
      </tbody>
    </table>
  </div>

  <div class="mt-4">
    <h6>Novi zaposleni:</h6>
    <div>
      <form class="form-control" [formGroup]="addZaposleniGroup" (submit)="dodajZaposlenog()">
        <label *ngIf="!addZaposleniGroup.valid" style="font-size: 11px; color: brown">Sva polja su obavezna!</label>
        <div class="row">
          <div class="col-sm-4">
            <label class="labelClass">Ime:</label>
            <input class="form-control" type="text" [formControlName]="'ime'">
          </div>
          <div class="col-sm-4">
            <label class="labelClass">Prezime:</label>
            <input class="form-control" type="text" [formControlName]="'prezime'">
          </div>
          <div class="col-sm-4">
            <label class="labelClass">Datum rođenja:</label>
            <input class="form-control" type="date" [formControlName]="'datumRodjenja'">
          </div>
        </div>
        <div class="row">
          <div class="col-sm-3">
            <label  class="labelClass">JMBG:</label>
            <input class="form-control" type="text" [formControlName]="'jmbg'">
            <label *ngIf="!addZaposleniGroup.valid" style="font-size: 11px; color: #999999">* JMBG mora imati tacno 13 karaktera!</label>
          </div>
          <div class="col-sm-3">
            <label class="labelClass">Pol:</label>
            <select class="form-control" [formControlName]="'pol'">
              <option value="MUSKO">MUSKI</option>
              <option value="ZENSKO">ZENSKI</option>
            </select>
          </div>
          <div class="col-sm-3">
            <label class="labelClass">Preduzece:</label>
            <select class="form-control" [formControlName]="'preduzece'">
              <option *ngFor="let preduzece of preduzeca" [value]="preduzece.naziv">{{preduzece.naziv}}</option>
            </select>
          </div>
          <div class="col-sm-3">
            <label class="labelClass">Radno mesto:</label>
            <select class="form-control" [formControlName]="'radnaPozicija'">
              <option value="DIREKTOR">DIREKTOR</option>
              <option value="MENADZER">MENADZER</option>
              <option value="RADNIK">RADNIK</option>
            </select>
          </div>
        </div>
        <div class="row text-center mt-2">
          <div class="col-sm-5"></div>
          <div class="col-sm-2">
            <button class="btn btn-sm btn-success" [disabled]="!addZaposleniGroup.valid" type="submit">Kreiraj zaposlenog</button>
          </div>
          <div class="col-sm-5"></div>
        </div>
      </form>
    </div>
  </div>

</div>
